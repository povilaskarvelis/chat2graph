# Chat2Graph Dashboard

A modern, interactive dashboard for visualizing clinical knowledge graph analysis data.

## Features

- **Overall Statistics**: View total entities, relationships, and episodes at a glance
- **Interactive Charts**: Visualize clinical ratios, entity counts, density metrics, and relationships
- **Disorder Analysis**: Compare metrics across different disorders (GAD, ADHD, Wernicke's Aphasia)
- **Episode Details**: Explore individual episodes with full entity and relationship breakdowns
- **Responsive Design**: Works on desktop and mobile devices

## Quick Start

1. **Open the dashboard**:
   - Simply open `dashboard/index.html` in a web browser
   - Or serve it with a local web server:
     ```bash
     # Python 3
     python -m http.server 8000
     
     # Node.js (if you have http-server installed)
     npx http-server -p 8000
     ```
   - Then navigate to `http://localhost:8000/dashboard/`

2. **Data Source**:
   - The dashboard automatically loads data from `results/analysis_latest.json`
   - Make sure you've run `python analyze_graphs.py` to generate the analysis file
   - You can also select "Live API" if the API server is running (optional)

## Usage

### Viewing Overall Statistics
The dashboard displays key metrics including:
- Total entities (clinical + semantic)
- Clinical vs semantic entity counts
- Clinical ratio percentage
- Total relationships
- Number of episodes

### Analyzing by Disorder
The "Analysis by Disorder" section shows aggregated metrics for:
- **GAD** (Generalized Anxiety Disorder)
- **ADHD** (Attention Deficit Hyperactivity Disorder)
- **Wernicke's Aphasia**

Each disorder card displays:
- Episode count and criteria meeting status
- Average clinical and semantic entity counts
- Clinical ratio
- Average relationships
- Density metrics (clinical, semantic, cross-type)

### Exploring Episodes
Click on episode tabs to view detailed information:
- Entity counts and ratios
- Complete list of clinical entities
- Complete list of semantic entities
- All relationships with descriptions

### Charts
The dashboard includes four interactive charts:
1. **Clinical Ratio by Disorder**: Shows the percentage of clinical entities
2. **Entity Counts by Disorder**: Compares clinical vs semantic entities
3. **Density Metrics**: Visualizes connection densities
4. **Relationships by Episode**: Shows relationship counts per episode

## File Structure

```
dashboard/
├── index.html      # Main HTML file
├── styles.css      # Styling and layout
├── dashboard.js    # Data loading and rendering logic
└── README.md       # This file
```

## Data Format

The dashboard expects data in the format generated by `analyze_graphs.py`:

```json
{
  "overall": {
    "total_entities": 94,
    "clinical_entities": 62,
    "semantic_entities": 32,
    "total_relationships": 137,
    "episodes": 6
  },
  "by_episode": {
    "episode_name": {
      "metrics": {...},
      "clinical_entities": [...],
      "semantic_entities": [...],
      "relationships": [...],
      "disorder": "GAD",
      "meets_criteria": true
    }
  },
  "by_disorder": {
    "GAD": {
      "episode_count": 3,
      "avg_clinical_entities": 11.33,
      ...
    }
  }
}
```

## Troubleshooting

### Dashboard shows "Error loading data"
- Make sure `results/analysis_latest.json` exists
- Run `python analyze_graphs.py` to generate the analysis file
- Check browser console for detailed error messages

### Charts not displaying
- Ensure you have an internet connection (Chart.js is loaded from CDN)
- Check browser console for JavaScript errors

### API option not working
- The API server must be running (`python api_server.py`)
- Default API URL is `http://localhost:8080`
- If API is unavailable, use the JSON data source instead

## Customization

### Changing Colors
Edit `styles.css` and modify the CSS variables:
```css
:root {
    --primary-color: #4a90e2;
    --secondary-color: #7b68ee;
    ...
}
```

### Adding New Charts
Add a new canvas element in `index.html` and create a corresponding chart function in `dashboard.js`.

## Browser Support

- Chrome/Edge (latest)
- Firefox (latest)
- Safari (latest)
- Mobile browsers (iOS Safari, Chrome Mobile)

## License

Part of the Chat2Graph project.

